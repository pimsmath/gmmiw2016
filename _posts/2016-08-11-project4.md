---
layout: post
title:  "GMMIW Project 4 Update"
date: 2016-08-11 13:22:04 -0700
categories: project
tags: team4
---


## Project 4: "This party is too big, folks" - Setting room capacities for safety.

### Mentor: Nilima Nigam, *Simon Fraser University*

### Description

The maximum lawful occupancy of a venue:
- The owner of a venue seeks to maximize occupancy toincrease revenue- Safety regulations seek to optimize evacuation times in theevent of an emergency

# Goal
Determine the maximumlawful capacity for the UBC Chan Shun Concert Theatre.The maximum capacity should account for- existing regulations- flexibility:- fixed-seat concert v/s moving-seat childrenâ€™s show layout- up to three levels and a loft- revenue considerations- robustness to a range of occupant speeds


![The Chan Hall]({{site_url}}/assets/ChanHall.jpg)

# The Problem
The problem is a constrained optimization problem. We hold theunderlying structure of the Concert Hall (the number and locationof exits, location of walls, area of hall etc.) and the basic design ofthe seats (size etc.) constant, so the problem becomes:- Maximizing the capacity i.e. the number of seats...- by varying the seating layout...- subject to a constraint on the total evacuation time as aproxy for safety.

![The Chan Hall Diagram]({{site_url}}/assets/ChanHallDiagram.jpg)

Our Approach:
- Find bounds for the capacity, given assumptions about typesof layout.- Construct models of total evacuation time given a layout.- Investigate how total evacuation time depends on parametersdescribing the layout.- Use these dependencies and/or use an appropriateoptimization algorithm to find the optimal capacity.- Investigate how sensitive our results are to changes inparameters and assumptions. (Time permitting)

# Cellular Automaton Model - Assumptions- We consider the size of a person standing and seated is thesame and equal to the size of the seat.- People only choose the closest exit and the probability thatone of them occupies it is defined by age, sex, and number ofpeople.- People will not fall down and moveable furniture will notblock the path.

Simplify the problem as a lattice of hexagonsL

- white hexagon represents persons- shaded hexagon represents fixed seats

![The Hexagonal Hall Model]({{site_url}}/assets/HallHex.jpg)

$V_i = V_i(\mu,\sigma)$ is the velocity distribution of persons, with mean $\mu$ and std dev $\sigma$. 

$E_i = \sum_{j=1}^n \frac{1}{\gamma_j} V_i$ is the evacuation function.

$W = \max E_i$ is the relevant evacuation time. 


# Particle Dynamics Evacuation Model - Assumptions- People modelled as discs of a fixxed size. Results depend onparticle size assumption.- Immediate and simultaneous response to emergency.- People always move to nearest exit.- Personal space modelled by a simple repulsion.- Distributions of age, walking speed and personal space needs.- Stochastic behaviour of jostling people.- Uniform height and girth of people.

![The Particle Dynamics Model]({{site_url}}/assets/HallModel.jpg)

# Particle Dynamics Evacuation Model - Details- Initialize with a disc particle in position in front of each(occupied) seat at $t = 0$.- These particles are each initialized with an age, sex, maxwalking speed and personal space radius. These are randomvariables drawn from empirical distributions.- From the geometry of the room we produce a potential field $\phi(x)$,the minimum distance from $x$ to the nearestexit.- The particles then move along vectors minimizing $\phi$, subjectto repulsion from other particles if within their personal spaceradius.- When particles collide with other particles, they move in arandom direction for a short time period. This is intended tomodel "jostling" behaviour, and overcome gridlocks.

# Factor Analysis Model - Assumptions- The capacity is fixed in a given layout.- Age distribution of audiences is normal.- We assume linear dependency on factors.

# Factor Analysis Model - Details- The evacuation time $y$ is related to: capacity $x_1$, space betweenrows $x_2$, width of the path $x_3$, speed distribution of humans $x_4$,type of performance $x_5$, number of wheel-chair seats $x_6$, number ofstrollers $x_7$.- Using the factor analysis, we can classify the variable $x_1$ to $x_7$ andsimplify our formula to: 
$$ y = a_1F_1 + a_2F_2 + \ldots + a_nF_n$$
 where$n\leq 7$ and $F_i$ is unobserved factor.- Once the configuration is fixed, the maximum capacity is fixed.Then we can calculate the evacuation time and maximum capacityof every option of configuration. In the next step, we are going todetermine the configuration.
